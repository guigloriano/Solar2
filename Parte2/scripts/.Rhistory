# Indicar os índices dos Dias do dataset
out2 <- paste0("Dias: ", (j+(j-1)*20), " ao dia ", (j*21) )
print(out2)
###### 1.2 - Leitura do Dataset a ser manipulado #####
dados_teste <- read.csv(TodosCaminhos[j])
##### 1.3 - Ajustes no Dataset para o Modelo #####
str(dados_teste)
ND <- data.frame(dados_teste)
##### 1.4 - Remoção da Primeira Coluna (contador de amostras) #####
ND$X <- NULL
##### 1.5 - Remoção dos PDC's = 0 #####
ND <- ND[!(ND$PDC == 0),]
nr <- nrow(ND)
##### 1.6 - Cálculo de IRR e PDC acumulados #####
id.fi <- cumsum(as.numeric(ftable(ND[,1])))
id.in <- c(1,id.fi+1)
AIRR <- 0
APDC <- 0
for(d in 1:length(id.fi)){
AIRR <- c(AIRR, cumsum(ND[id.in[d]:id.fi[d],3]))
APDC <- c(APDC, cumsum(ND[id.in[d]:id.fi[d],6]))
}
NDA <- ND
NDA[,3] <- AIRR[-1]
NDA[,6] <- APDC[-1]
##### 1.7 - Transformação Log #####
NDA[,1] <- factor(NDA[,1])
NDA[,2] <- NDA[,2] - 1
NDA[,3] <- log(NDA[,3])
NDA[,4] <- log(NDA[,4])
NDA[,5] <- log(NDA[,5])
NDA[,6] <- log(NDA[,6])
NDA <- data.frame(NDA)
newd <- data.frame(NDA[,1:5])
newd <- na.exclude(newd)
#### 2.0 - Valores Obtidos pelo preditor ####
pred9 <- as.numeric(predict(M9, newd))
#### 3.0 - Gráficos dos Modelos ####
id.fi <- cumsum(as.numeric(ftable(NDA[,1])))
id.in <- c(1,id.fi+1)
##### 3.1 - Tempo x PDC (Observado e Esperado) #####
for(i in 1:length(id.fi)){
nome_arquivo <- paste ("dia_", (i+(j-1)*20), ".png", sep="")
pathDest <- paste(local_pasta, "graphs\\Tempo x PDC\\", sep = "")
fileDest <- paste(pathDest, nome_arquivo, sep = "")
png(filename = fileDest, width = 720, height = 480, units = 'px')
dia <- i
xi[dia] <- id.in[dia]
xf[dia] <- id.fi[dia]
######  3.1.1 - Cálculo do PDC Observado  ######
Dio <- NDA[xi[dia]:xf[dia],6]
plot(NDA[xi[dia]:xf[dia],2], Dio, pch=19, lwd=2, ylab="Valores Y", xlab="Tempo", xlim=c(0,length(Dio)), ylim=c(2,13))
points(NDA[xi[dia]:xf[dia],2], Dio, col="black", type="l", lwd=2)
#####  3.1.2 - Cálculo do PDC Predito #####
Dip <- pred9[xi[dia]:xf[dia]]
points(NDA[xi[dia]:xf[dia],2], Dip, col="red", type="l", lwd=2)
legend("topleft", legend=c("Observado","Esperado"), col=c("black","red"), lty=1, pch=c(1, NA), lwd=2)
Dip_list[(i+(j-1)*20)] <- sum(Dip)
Dio_list[(i+(j-1)*20)] <- sum(Dio)
EQMi[(i+(j-1)*20)] <- round(mean((Dio - Dip)^2), 6)
textoEQM <- paste("MSE:", EQMi[i+21])
text(68, 11, textoEQM)
dev.off()
}
##### 3.2 - DIP x DIO (21 dias por gráfico) #####
nome_arquivo <- paste ("energia_", (i+(j-1)*20), ".png", sep="")
pathDest <- paste(local_pasta, "graphs\\DIP x DIO\\", sep = "")
fileDest <- paste(pathDest, nome_arquivo, sep = "")
png(filename = fileDest, width = 720, height = 480, units = 'px')
sm <- seq(1,length(id.fi)*j)
p = ggplot() + theme_bw() +
geom_line(aes(x = sm, y = Dip_list, group=1), color = "blue", size = 0.5) +
geom_line(aes(x = sm, y = Dio_list, group=2), color = "red", size = 0.5) +
geom_point(aes(x = sm, y = Dip_list, group=1), color = "blue", size = 1) +
geom_point(aes(x = sm, y = Dio_list, group=2), color = "red", size = 1) +
xlab('Dias') +
ylab('Potência') +
scale_x_continuous(breaks=seq(0, 100, 5))  +
scale_fill_manual(values=c("#a6cee3","#1f78b4","#b2df8a"))
print(p)
dev.off()
##### 3.3 - Erro quadrático Médio Diário #####
for(i in 1:(length(id.fi))){
dia <- i
xi <- id.in[dia]
xf <- id.fi[dia]
Dio <- NDA[xi:xf,6]
Dip <- pred9[xi:xf]
eqm[(i+(j-1)*20)] <- mean((Dio - Dip)^2)
}
###### 3.3.1 - Gráfico do EQM/MSE ######
nome_arquivo <- paste ("eqm1_", (j*21), ".png", sep="")
pathDest <- paste(local_pasta, "graphs\\EQM\\", sep = "")
fileDest <- paste(pathDest, nome_arquivo, sep = "")
png(filename = fileDest, width = 720, height = 480, units = 'px')
sm <- seq(1,length(id.fi)*j)
plot(sm, eqm, type="l", xlim=c(0,43),  ylim=c(0,max(eqm)), ylab="MSE", xlab="Day")
points(sm, eqm, pch=19)
dev.off()
##### 3.4 - Diferença Percentual Média (p/ 42 dias) ######
for(i in 1:length(id.fi)){
Dio <- NDA[id.in[i]:id.fi[i],6]
Dip <- as.numeric(pred9[id.in[i]:id.fi[i]])
Dim[(i+(j-1)*20)] <- round(mean(( (exp(Dio) - exp(Dip) ) / exp(Dip) ) * 100), 6)
}
###### 3.4.1 - Grafico em Barras das Diferenças Percentuais Medias #####
#### Informações para Salvar a imagem
nome_arquivo <- paste ("dif_perc1_", (j*21), ".png", sep="")
pathDest <- paste(local_pasta, "graphs\\DPM\\", sep = "")
fileDest <- paste(pathDest, nome_arquivo, sep = "")
png(filename = fileDest, width = 720, height = 480, units = 'px')
data_Bar2 <- data.frame (ListaDias_Bar = seq(1,length(id.fi)+21),
value = round(Dim, 4))
p = ggplot(data_Bar2, aes(x=ListaDias_Bar, y=value)) +
#  geom_bar(stat = "identity", colour="dodgerblue", fill="white") +
geom_bar(stat = "identity", colour="black", fill="grey") + theme_bw() +
#  geom_text(aes(x = ListaDias_Bar, y = Dim, label = round(Dim, 4)), vjust=1.0,) +
#  ggtitle("Differences (percentage): Observed and Estimated") +
theme(plot.title = element_text(hjust = 0.5)) +
labs(y= "Diferenca Percentual Media", x = "Dias") + scale_y_continuous(limits = c(min(Dim)-.03,max(Dim)+.03))
print(p)
dev.off()
j = 1
xi <- numeric()
xf <- numeric()
Dip_list <- numeric()
Dio_list <- numeric()
EQMi <- numeric()
# Mostrar Qual é o Caminho Atual do Arquivo a Ser Lido
out1 <- paste0("Arquivo Lido: ", TodosCaminhos[j])
print(out1)
# Indicar os índices dos Dias do dataset
out2 <- paste0("Dias: ", (j+(j-1)*20), " ao dia ", (j*21) )
print(out2)
###### 1.2 - Leitura do Dataset a ser manipulado #####
dados_teste <- read.csv(TodosCaminhos[j])
##### 1.3 - Ajustes no Dataset para o Modelo #####
str(dados_teste)
ND <- data.frame(dados_teste)
##### 1.4 - Remoção da Primeira Coluna (contador de amostras) #####
ND$X <- NULL
##### 1.5 - Remoção dos PDC's = 0 #####
ND <- ND[!(ND$PDC == 0),]
nr <- nrow(ND)
##### 1.6 - Cálculo de IRR e PDC acumulados #####
id.fi <- cumsum(as.numeric(ftable(ND[,1])))
id.in <- c(1,id.fi+1)
AIRR <- 0
APDC <- 0
for(d in 1:length(id.fi)){
AIRR <- c(AIRR, cumsum(ND[id.in[d]:id.fi[d],3]))
APDC <- c(APDC, cumsum(ND[id.in[d]:id.fi[d],6]))
}
NDA <- ND
NDA[,3] <- AIRR[-1]
NDA[,6] <- APDC[-1]
##### 1.7 - Transformação Log #####
NDA[,1] <- factor(NDA[,1])
NDA[,2] <- NDA[,2] - 1
NDA[,3] <- log(NDA[,3])
NDA[,4] <- log(NDA[,4])
NDA[,5] <- log(NDA[,5])
NDA[,6] <- log(NDA[,6])
NDA <- data.frame(NDA)
newd <- data.frame(NDA[,1:5])
newd <- na.exclude(newd)
#### 2.0 - Valores Obtidos pelo preditor ####
pred9 <- as.numeric(predict(M9, newd))
#### 3.0 - Gráficos dos Modelos ####
id.fi <- cumsum(as.numeric(ftable(NDA[,1])))
id.in <- c(1,id.fi+1)
##### 3.1 - Tempo x PDC (Observado e Esperado) #####
for(i in 1:length(id.fi)){
nome_arquivo <- paste ("dia_", (i+(j-1)*20), ".png", sep="")
pathDest <- paste(local_pasta, "graphs\\Tempo x PDC\\", sep = "")
fileDest <- paste(pathDest, nome_arquivo, sep = "")
png(filename = fileDest, width = 720, height = 480, units = 'px')
dia <- i
xi[dia] <- id.in[dia]
xf[dia] <- id.fi[dia]
######  3.1.1 - Cálculo do PDC Observado  ######
Dio <- NDA[xi[dia]:xf[dia],6]
plot(NDA[xi[dia]:xf[dia],2], Dio, pch=19, lwd=2, ylab="Valores Y", xlab="Tempo", xlim=c(0,length(Dio)), ylim=c(2,13))
points(NDA[xi[dia]:xf[dia],2], Dio, col="black", type="l", lwd=2)
#####  3.1.2 - Cálculo do PDC Predito #####
Dip <- pred9[xi[dia]:xf[dia]]
points(NDA[xi[dia]:xf[dia],2], Dip, col="red", type="l", lwd=2)
legend("topleft", legend=c("Observado","Esperado"), col=c("black","red"), lty=1, pch=c(1, NA), lwd=2)
Dip_list[(i+(j-1)*20)] <- sum(Dip)
Dio_list[(i+(j-1)*20)] <- sum(Dio)
EQMi[(i+(j-1)*20)] <- round(mean((Dio - Dip)^2), 6)
textoEQM <- paste("MSE:", EQMi[i+21])
text(68, 11, textoEQM)
dev.off()
}
##### 3.2 - DIP x DIO (21 dias por gráfico) #####
nome_arquivo <- paste ("energia_", (i+(j-1)*20), ".png", sep="")
pathDest <- paste(local_pasta, "graphs\\DIP x DIO\\", sep = "")
fileDest <- paste(pathDest, nome_arquivo, sep = "")
png(filename = fileDest, width = 720, height = 480, units = 'px')
sm <- seq(1,length(id.fi)*j)
p = ggplot() + theme_bw() +
geom_line(aes(x = sm, y = Dip_list, group=1), color = "blue", size = 0.5) +
geom_line(aes(x = sm, y = Dio_list, group=2), color = "red", size = 0.5) +
geom_point(aes(x = sm, y = Dip_list, group=1), color = "blue", size = 1) +
geom_point(aes(x = sm, y = Dio_list, group=2), color = "red", size = 1) +
xlab('Dias') +
ylab('Potência') +
scale_x_continuous(breaks=seq(0, 100, 5))  +
scale_fill_manual(values=c("#a6cee3","#1f78b4","#b2df8a"))
print(p)
dev.off()
##### 3.3 - Erro quadrático Médio Diário #####
for(i in 1:(length(id.fi))){
dia <- i
xi <- id.in[dia]
xf <- id.fi[dia]
Dio <- NDA[xi:xf,6]
Dip <- pred9[xi:xf]
eqm[(i+(j-1)*20)] <- mean((Dio - Dip)^2)
}
###### 3.3.1 - Gráfico do EQM/MSE ######
nome_arquivo <- paste ("eqm1_", (j*21), ".png", sep="")
pathDest <- paste(local_pasta, "graphs\\EQM\\", sep = "")
fileDest <- paste(pathDest, nome_arquivo, sep = "")
png(filename = fileDest, width = 720, height = 480, units = 'px')
sm <- seq(1,length(id.fi)*j)
plot(sm, eqm, type="l", xlim=c(0,43),  ylim=c(0,max(eqm)), ylab="MSE", xlab="Day")
points(sm, eqm, pch=19)
dev.off()
##### 3.4 - Diferença Percentual Média (p/ 42 dias) ######
for(i in 1:length(id.fi)){
Dio <- NDA[id.in[i]:id.fi[i],6]
Dip <- as.numeric(pred9[id.in[i]:id.fi[i]])
Dim[(i+(j-1)*20)] <- round(mean(( (exp(Dio) - exp(Dip) ) / exp(Dip) ) * 100), 6)
}
###### 3.4.1 - Grafico em Barras das Diferenças Percentuais Medias #####
#### Informações para Salvar a imagem
nome_arquivo <- paste ("dif_perc1_", (j*21), ".png", sep="")
pathDest <- paste(local_pasta, "graphs\\DPM\\", sep = "")
fileDest <- paste(pathDest, nome_arquivo, sep = "")
png(filename = fileDest, width = 720, height = 480, units = 'px')
data_Bar2 <- data.frame (ListaDias_Bar = seq(1,length(id.fi)+21),
value = round(Dim, 4))
p = ggplot(data_Bar2, aes(x=ListaDias_Bar, y=value)) +
#  geom_bar(stat = "identity", colour="dodgerblue", fill="white") +
geom_bar(stat = "identity", colour="black", fill="grey") + theme_bw() +
#  geom_text(aes(x = ListaDias_Bar, y = Dim, label = round(Dim, 4)), vjust=1.0,) +
#  ggtitle("Differences (percentage): Observed and Estimated") +
theme(plot.title = element_text(hjust = 0.5)) +
labs(y= "Diferenca Percentual Media", x = "Dias") + scale_y_continuous(limits = c(min(Dim)-.03,max(Dim)+.03))
print(p)
dev.off()
j = 1
xi <- numeric()
xf <- numeric()
Dip_list <- numeric()
Dio_list <- numeric()
EQMi <- numeric()
# Mostrar Qual é o Caminho Atual do Arquivo a Ser Lido
out1 <- paste0("Arquivo Lido: ", TodosCaminhos[j])
print(out1)
# Indicar os índices dos Dias do dataset
out2 <- paste0("Dias: ", (j+(j-1)*20), " ao dia ", (j*21) )
print(out2)
###### 1.2 - Leitura do Dataset a ser manipulado #####
dados_teste <- read.csv(TodosCaminhos[j])
##### 1.3 - Ajustes no Dataset para o Modelo #####
str(dados_teste)
ND <- data.frame(dados_teste)
##### 1.4 - Remoção da Primeira Coluna (contador de amostras) #####
ND$X <- NULL
##### 1.5 - Remoção dos PDC's = 0 #####
ND <- ND[!(ND$PDC == 0),]
nr <- nrow(ND)
##### 1.6 - Cálculo de IRR e PDC acumulados #####
id.fi <- cumsum(as.numeric(ftable(ND[,1])))
id.in <- c(1,id.fi+1)
AIRR <- 0
APDC <- 0
for(d in 1:length(id.fi)){
AIRR <- c(AIRR, cumsum(ND[id.in[d]:id.fi[d],3]))
APDC <- c(APDC, cumsum(ND[id.in[d]:id.fi[d],6]))
}
NDA <- ND
NDA[,3] <- AIRR[-1]
NDA[,6] <- APDC[-1]
##### 1.7 - Transformação Log #####
NDA[,1] <- factor(NDA[,1])
NDA[,2] <- NDA[,2] - 1
NDA[,3] <- log(NDA[,3])
NDA[,4] <- log(NDA[,4])
NDA[,5] <- log(NDA[,5])
NDA[,6] <- log(NDA[,6])
NDA <- data.frame(NDA)
newd <- data.frame(NDA[,1:5])
newd <- na.exclude(newd)
#### 2.0 - Valores Obtidos pelo preditor ####
pred9 <- as.numeric(predict(M9, newd))
#### 3.0 - Gráficos dos Modelos ####
id.fi <- cumsum(as.numeric(ftable(NDA[,1])))
id.in <- c(1,id.fi+1)
##### 3.1 - Tempo x PDC (Observado e Esperado) #####
for(i in 1:length(id.fi)){
nome_arquivo <- paste ("dia_", (i+(j-1)*20), ".png", sep="")
pathDest <- paste(local_pasta, "graphs\\Tempo x PDC\\", sep = "")
fileDest <- paste(pathDest, nome_arquivo, sep = "")
png(filename = fileDest, width = 720, height = 480, units = 'px')
dia <- i
xi[dia] <- id.in[dia]
xf[dia] <- id.fi[dia]
######  3.1.1 - Cálculo do PDC Observado  ######
Dio <- NDA[xi[dia]:xf[dia],6]
plot(NDA[xi[dia]:xf[dia],2], Dio, pch=19, lwd=2, ylab="Valores Y", xlab="Tempo", xlim=c(0,length(Dio)), ylim=c(2,13))
points(NDA[xi[dia]:xf[dia],2], Dio, col="black", type="l", lwd=2)
#####  3.1.2 - Cálculo do PDC Predito #####
Dip <- pred9[xi[dia]:xf[dia]]
points(NDA[xi[dia]:xf[dia],2], Dip, col="red", type="l", lwd=2)
legend("topleft", legend=c("Observado","Esperado"), col=c("black","red"), lty=1, pch=c(1, NA), lwd=2)
Dip_list[(i+(j-1)*20)] <- sum(Dip)
Dio_list[(i+(j-1)*20)] <- sum(Dio)
EQMi[(i+(j-1)*20)] <- round(mean((Dio - Dip)^2), 6)
textoEQM <- paste("MSE:", EQMi[i+21])
text(68, 11, textoEQM)
dev.off()
}
##### 3.2 - DIP x DIO (21 dias por gráfico) #####
nome_arquivo <- paste ("energia_", (i+(j-1)*20), ".png", sep="")
pathDest <- paste(local_pasta, "graphs\\DIP x DIO\\", sep = "")
fileDest <- paste(pathDest, nome_arquivo, sep = "")
png(filename = fileDest, width = 720, height = 480, units = 'px')
sm <- seq(1,length(id.fi)*j)
p = ggplot() + theme_bw() +
geom_line(aes(x = sm, y = Dip_list, group=1), color = "blue", size = 0.5) +
geom_line(aes(x = sm, y = Dio_list, group=2), color = "red", size = 0.5) +
geom_point(aes(x = sm, y = Dip_list, group=1), color = "blue", size = 1) +
geom_point(aes(x = sm, y = Dio_list, group=2), color = "red", size = 1) +
xlab('Dias') +
ylab('Potência') +
scale_x_continuous(breaks=seq(0, 100, 5))  +
scale_fill_manual(values=c("#a6cee3","#1f78b4","#b2df8a"))
print(p)
dev.off()
##### 3.3 - Erro quadrático Médio Diário #####
for(i in 1:(length(id.fi))){
dia <- i
xi <- id.in[dia]
xf <- id.fi[dia]
Dio <- NDA[xi:xf,6]
Dip <- pred9[xi:xf]
eqm[(i+(j-1)*20)] <- mean((Dio - Dip)^2)
}
eqm
EQMi
##### 3.4 - Gráfico do EQM/MSE #####
nome_arquivo <- paste ("eqm1_", (j*21), ".png", sep="")
pathDest <- paste(local_pasta, "graphs\\EQM\\", sep = "")
fileDest <- paste(pathDest, nome_arquivo, sep = "")
png(filename = fileDest, width = 720, height = 480, units = 'px')
sm <- seq(1,length(id.fi)*j)
plot(sm, EQMi, type="l", xlim=c(0,43),  ylim=c(0,max(eqm)), ylab="MSE", xlab="Day")
points(sm, EQMi, pch=19)
dev.off()
sm
EQMi
##### 3.4 - Gráfico do EQM/MSE #####
nome_arquivo <- paste ("eqm1_", (j*21), ".png", sep="")
pathDest <- paste(local_pasta, "graphs\\EQM\\", sep = "")
fileDest <- paste(pathDest, nome_arquivo, sep = "")
png(filename = fileDest, width = 720, height = 480, units = 'px')
sm <- seq(1,length(id.fi)*j)
plot(sm, EQMi, type="l", xlim=c(0,43),  ylim=c(0,max(EQMi)), ylab="MSE", xlab="Day")
points(sm, EQMi, pch=19)
dev.off()
sm
sm
length(id.fi)*j
source("D:/Solar2/Parte2/scripts/002_graficos_EQM_DPM.R")
source("D:/Solar2/Parte2/scripts/002_graficos_EQM_DPM.R")
##### 1.0 - Definição do Caminho "raiz" do script ####
local_pasta <- "D:\\Solar2\\Parte2\\"
graph_extra <- paste(local_pasta, "graphs\\5 - EQM e DPM\\", sep = "")
source("D:/Solar2/Parte2/scripts/002_graficos_EQM_DPM.R")
####  0.1 - Caminho dos Arquivos ####
# >>>> INSIRA A PASTA RAIZ NESTE TRECHO <<<
local_pasta <- "D:\\Solar2\\Parte2\\"
#### 1.0 - Leitura do Primeiro Dataset ####
caminho_dados <- paste(local_pasta, "datasets\\csv\\1_21.csv", sep = "")
dados_treino <- read.csv(caminho_dados)
rm(list=ls(all=TRUE))
source("D:/Solar2/Parte2/scripts/002_graficos_EQM_DPM.R")
local_pasta
source("D:/Solar2/Parte2/scripts/07_graficos_DIOeDIP_mensais.R")
#### exemplo de impressao ####
sm <- seq(1,length(id.fi)+84)
# dev.off()
p = ggplot() + theme_bw() +
geom_line(aes(x = sm, y = Dip_list, group=1), color = "blue", size = 0.5) +
geom_line(aes(x = sm, y = Dio_list, group=2), color = "red", size = 0.5) +
geom_point(aes(x = sm, y = Dip_list, group=1), color = "blue", size = 1) +
geom_point(aes(x = sm, y = Dio_list, group=2), color = "red", size = 1) +
xlab('Dias') +
ylab('Potência') +
scale_x_continuous(breaks=seq(0, 100, 5))  +
scale_fill_manual(values=c("#a6cee3","#1f78b4","#b2df8a"))
print(p)
id.fi
Dip_list
### >>> Local para salvar as imagens
pathDest <- paste(local_pasta, "scripts\\graphs\\", sep = "")
#### exemplo de impressao ####
sm <- seq(1,length(Dip_list))
# dev.off()
p = ggplot() + theme_bw() +
geom_line(aes(x = sm, y = Dip_list, group=1), color = "blue", size = 0.5) +
geom_line(aes(x = sm, y = Dio_list, group=2), color = "red", size = 0.5) +
geom_point(aes(x = sm, y = Dip_list, group=1), color = "blue", size = 1) +
geom_point(aes(x = sm, y = Dio_list, group=2), color = "red", size = 1) +
xlab('Dias') +
ylab('Potência') +
scale_x_continuous(breaks=seq(0, 100, 5))  +
scale_fill_manual(values=c("#a6cee3","#1f78b4","#b2df8a"))
print(p)
#### DIP, DIO - Outubro ###
nome_arquivo <- paste ("1_Out19_energia_dip.png")
fileDest <- paste(pathDest, nome_arquivo, sep = "")
png(filename = fileDest, width = 720, height = 480, units = 'px')
seq_outDIA <- seq(1,8)
seq_outDip <- Dip_list[1:8]
#### DIP, DIO - Outubro ###
nome_arquivo <- paste ("1_Out19_energia_dip.png")
fileDest <- paste(pathDest, nome_arquivo, sep = "")
png(filename = fileDest, width = 720, height = 480, units = 'px')
#### DIP, DIO - Outubro ###
nome_arquivo <- paste ("1_Out19_energia_dip.png")
fileDest <- paste(pathDest, nome_arquivo, sep = "")
png(filename = fileDest, width = 720, height = 480, units = 'px')
fileDest
### >>> Local para salvar as imagens
pathDest <- paste(local_pasta, "graphs\\", sep = "")
#### exemplo de impressao ####
sm <- seq(1,length(Dip_list))
# dev.off()
p = ggplot() + theme_bw() +
geom_line(aes(x = sm, y = Dip_list, group=1), color = "blue", size = 0.5) +
geom_line(aes(x = sm, y = Dio_list, group=2), color = "red", size = 0.5) +
geom_point(aes(x = sm, y = Dip_list, group=1), color = "blue", size = 1) +
geom_point(aes(x = sm, y = Dio_list, group=2), color = "red", size = 1) +
xlab('Dias') +
ylab('Potência') +
scale_x_continuous(breaks=seq(0, 100, 5))  +
scale_fill_manual(values=c("#a6cee3","#1f78b4","#b2df8a"))
print(p)
#### DIP, DIO - Outubro ###
nome_arquivo <- paste ("1_Out19_energia_dip.png")
fileDest <- paste(pathDest, nome_arquivo, sep = "")
png(filename = fileDest, width = 720, height = 480, units = 'px')
seq_outDIA <- seq(1,8)
seq_outDip <- Dip_list[1:8]
graf_out <-barplot(t(as.matrix(seq_outDip)), col=c("gray"),
yaxt = "n", ylab="Energia Predita",xlab="Dia")
axis(2, at = seq(0, 1100, 50), las = 1, cex.axis=0.5)
axis(1, at=graf_out,labels=1:8, cex.axis=0.5)
dev.off()
nome_arquivo <- paste ("1_Out19_energia_all.png")
fileDest <- paste(pathDest, nome_arquivo, sep = "")
png(filename = fileDest, width = 720, height = 480, units = 'px')
conjOut <- data.frame("DIA" = seq(1,8), "DIP" = Dip_list[1:8], "DIO" = Dio_list[1:8])
conjOut2 <- melt(data = conjOut, id.vars = "DIA", measure.vars = c("DIP", "DIO"))
gf_out <- ggplot(data = conjOut2 , aes(x=DIA, y = value, fill = variable) ) +
geom_bar(stat="identity", position="dodge") +
scale_y_continuous(breaks = 50*0:900, name = "Energia") +
scale_x_continuous(breaks = 1*1:8) +
theme(axis.title.y = element_text(hjust = 0.5, color = 'black', size=13),) +
ggtitle("Dias - Outubro/19") +
theme(axis.text.x = element_text(angle = 60))
plot(gf_out)
dev.off()
#### DIP, DIO - Novembro ####
nome_arquivo <- paste ("2_Nov19_energia_dip.png")
fileDest <- paste(pathDest, nome_arquivo, sep = "")
png(filename = fileDest, width = 720, height = 480, units = 'px')
seq_novDIA <- seq(9,33)
seq_novDip <- Dip_list[9:33]
graf_nov <-barplot(t(as.matrix(seq_novDip)), col=c("gray"),
yaxt = "n", ylab="Energia Predita",xlab="Dia")
axis(2, at = seq(0, 1100, 50), las = 1, cex.axis=0.5)
axis(1, at=graf_nov,labels=9:33, cex.axis=0.5)
dev.off()
nome_arquivo <- paste ("2_Nov19_energia_all.png")
fileDest <- paste(pathDest, nome_arquivo, sep = "")
png(filename = fileDest, width = 720, height = 480, units = 'px')
conjNov <- data.frame("DIA" = seq(9,33), "DIP" = Dip_list[9:33], "DIO" = Dio_list[9:33])
conjNov2 <- melt(data = conjNov, id.vars = "DIA", measure.vars = c("DIP", "DIO"))
gf_nov <- ggplot(data = conjNov2 , aes(x=DIA, y = value, fill = variable) ) +
geom_bar(stat="identity", position="dodge") +
scale_y_continuous(breaks = 50*0:900, name = "Energia") +
scale_x_continuous(breaks = 1*9:33) +
theme(axis.title.y = element_text(hjust = 0.5, color = 'black', size=13),) +
ggtitle("Dias - Novembro/19") +
theme(axis.text.x = element_text(angle = 60))
plot(gf_nov)
dev.off()
#### DIP, DIO - Dezembro ###
nome_arquivo <- paste ("3_Dez19_energia_dip.png")
fileDest <- paste(pathDest, nome_arquivo, sep = "")
png(filename = fileDest, width = 720, height = 480, units = 'px')
seq_dezDIA <- seq(34,39)
seq_dezDip <- Dip_list[34:39]
graf_dez <-barplot(t(as.matrix(seq_dezDip)), col=c("gray"),
yaxt = "n", ylab="Energia Predita",xlab="Dia")
source("D:/Solar2/Parte2/scripts/07_graficos_DIOeDIP_mensais.R")
